<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="../templates/ui.xhtml">
	
	<ui:define name="head">
		<style type="text/css">
			span {
				cursor:pointer;
			}
			
			span:hover {
				color:#FF9900;
			}
		</style>
	</ui:define>

	<ui:define name="content">
		<h1 class="title ui-widget-header ui-corner-all">Poll - Start/Stop</h1>
		<div class="entry">
			<p>Polling can be started and stopped manually on demand.</p>
			
			<h:form>
				<h3>Polling in 4 seconds</h3>
				<h:outputText id="txt_count" value="#{counterBean.count}" />
				
				<span onclick="poll.start();">Start</span>
				<span onclick="poll.stop();">Stop</span>
				
				<p:poll interval="4" actionListener="#{counterBean.increment}" 
					update="txt_count" widgetVar="poll" autoStart="false"/>
			</h:form>
				
<pre name="code" class="xml">
&lt;a href="#" onclick="poll.start();"&gt;Start&lt;/a&gt;
&lt;a href="#" onclick="poll.stop();"&gt;Stop&lt;/a&gt;
</pre>
<pre name="code" class="xml">
&lt;h:form&gt;
	&lt;h:outputText id="txt_count" value="\#{counterBean.count}" /&gt;
	
	&lt;p:poll frequency="4" actionListener="\#{counterBean.increment}" 
				update="txt_count" widgetVar="poll" autoStart="false"/&gt;
&lt;/h:form&gt;
</pre>

<pre name="code" class="java">
import java.io.Serializable;

import javax.faces.event.ActionEvent;

public class CounterBean implements Serializable{

	private int count;

	public int getCount() {
		return count;
	}

	public void setCount(int count) {
		this.count = count;
	}
	
	public void increment(ActionEvent actionEvent) {
		count++;
	}
}
</pre>
            </div>

</ui:define>
</ui:composition>